\chapter{Problemanalyse}
\label{cha:problemanalyse}
Im letzten Kapitel wurde die Aufgabenstellung grob beschrieben. Nun sollen die angesprochenen Probleme feiner analysiert werden, so dass sich konkrete Ziele ergeben. Diese Ziele bilden die Grundlage für die Entscheidungen zum weiteren Vorgehen während der Umsetzung, welche in einem Soll-Konzept dargelegt wird.
\section{Problembeschreibung}
\label{sec:problembeschreibung}
Aus der groben Problembeschreibung lassen sich folgende technische Herausforderungen ablesen:\\
Der Server dient als zentrale Datenhaltung für verschiedene Clients. Darum ist es nötig, dass Client und Server dafür ausgelegt werden, über einen standardisierte Schnittstelle zu kommunizieren, um die anfallenden Daten auszutauschen. Diese muss einen Authentifizierungs- und Autorisierungsmechanismus bereitstellen, so dass jeder Nutzer nur an seine eigenen Daten gelangt. Darüber hinaus ist die Schnittstelle so zu implementieren, dass diese Kommunikation (zumindest temporär) optional ist, sodass eine Ausfallsicherheit entsteht. Um diese zu gewährleisten, muss ein Client die Möglichkeit haben, die Verbindung zum Server zu prüfen. Schlägt diese Prüfung fehl, muss der Client mit entsprechenden Maßnahmen reagieren. Hierfür muss zum einen der Zugriff auf Funktionen, welche zwingend eine Verbindung benötigen, reguliert werden. Zum Anderen müssen lokal anfallende Daten bei fehlender Verbindung zwischengespeichert werden. Letzteres hat zwei Vorteile:
\begin{itemize}
\item Neu angelegte Daten gehen dem Nutzer nicht verloren, obwohl sie nicht zum Server geschickt werden.
\item Dem Nutzer bleiben Funktionalitäten und bereits vorhandene Daten erhalten, obwohl keine Verbindung zum Server besteht.
\end{itemize}
Fallen neue lokale Daten an, ergibt sich aus der Problembeschreibung, dass diese bei späterer Verbindung zum Server persistiert werden. Dies muss die Kommunikations-Schnittstelle durch einen geeigneten Synchronisationsmechanismus unterstützen. 

%Die vordergründige Herausforderung liegt darin, dass die Fitness-Anwendungen auch
%dann noch benutzbar sein sollen, wenn keine Verbindung zum Internet, speziell zum
%benötigten Server, besteht. Dafür müssen die Applikationen ausgelegt und vorbereitet werden. Sei es durch das Unterbinden von Funktionen oder das Speichern von bereits erhaltenen Daten, um diese dem Benutzer für die weitere Verwendung zur
%Verfügung stellen zu können. \\
%Weiterhin gibt es Unterschiede in der Auswahl der lokal zu speichernden Daten. Auf
%der einen Seite können alle Daten, die relevant sind, automatisch von der Anwendung für den Benutzer hinterlegt werden. Zum anderen kann es die Möglichkeit für den Benutzer geben, bestimmte Daten offline verfügbar zu machen.
%Zu beachten ist darüber hinaus, dass die Daten, die ohne Internetverbindung angelegt werden, wieder zum Server synchronisiert werden müssen, um Benutzereingaben zentral persistent speichern zu können. In diesem Anwendungsfall sollen Trainingsdaten erfasst und gespeichert werden.\\
%Die Daten sollen für verschiedene Benutzer, die sich an dem Gerät anmelden, gespeichert werden. Des Weiteren sollen Benutzer nur Funktionen ausführen können,
%zu denen sie auch autorisiert sind.\\
%Konkret kann daraus geschlossen werden, dass die Anwendungen mit einem Mechanismus
%ausgestattet sein müssen, der das lokale Zwischenspeichern von Informationen
%unterstützt. Damit soll das Abrufen von Daten im Offline-Modus ermöglicht
%werden. Des Weiteren soll es offline möglich sein, Daten anzulegen und diese sollen dann mit dem Server synchronisiert werden, wenn wieder eine Verbindung besteht.

\section{Soll-Konzept}
\label{sec:soll-konzept}
Aus der vorangehenden konkreten Problembeschreibung ergibt sich ein Soll-Konzept für die Umsetzung des Projekts, welches in den folgenden Abschnitten erläutert wird.
\subsection{Kommunikation zwischen Client und Server}
\label{ssec:kommunikation-client-server}
Ziel soll die Umsetzung zweier mobiler Applikationen sein, welche mit einem selbst entwickelten Server kommunizieren. Während der Kommunikation muss festgestellt werden, ob- bzw. wann diese abbricht. Abhängig davon müssen die Applikationen das Verhalten zwischen Online- und Offline-Modus umstellen. \\
Wenn der Server erreichbar ist, können die benötigten Daten dort direkt abgefragt und lokal angezeigt werden. Zum Entgegenwirken von Datenverlust für den Benutzer, werden die bei dieser Abfrage erhaltenen Informationen lokal gespeichert werden. Daten, die im \textit{Online}-Status angelegt werden, können direkt zum Server übertragen werden. Dort werden sie dann persistent gespeichert und sind für diesen Benutzer von überall erreichbar.\\
Wenn die Verbindung abgebrochen ist, können die Applikationen nur auf die abgespeicherten Daten zurückgreifen und diese anzeigen. Die Applikationen sollen die Möglichkeit bieten, auch im Offline-Zustand Daten anzulegen. Geschieht dies, werden die Daten ebenfalls lokal gespeichert. Hierbei werden sie als Offline-Daten mittels \textit{Flag} erkennbar, in dem lokalen Speicher, abgelegt.\\
Wenn die Verbindung zwischen Server und Client gerade wieder hergestellt werden kann, müssen lokal angelegte Daten zum Server übertragen werden. Zur Erkennung, welche Daten an den Server übertragen werden müssen, dient das Offline-Flag aus den Daten des lokalen Speichers. Bei dieser Übertragung muss eine Synchronisation der Daten erfolgen. 
\subsection{Evaluation zur Client-Entwicklung}
\label{ssec:evaluation-client-entwicklung}
Während der Umsetzung sollen zwei mobile Applikationen entwickelt werden.  Hierzu beschriebt die Aufgabenstellung die Implementierung in zwei unterschiedlichen Technologien. Dabei soll evaluiert werden, welche Technik für die Umsetzung der Anforderungen am Besten geeignet ist. Deshalb sollen folgende Applikationen entwickelt werden: 
\begin{itemize}
\item eine mobil-optimierte Webseite (Web-App)
\item eine native App 
\end{itemize}
\subsubsection*{Single Page Application}
\label{ssec:aufgabenstellung:spa}
Die Web-App soll als \textit{Homepage} im Browser umgesetzt werden. Damit die clientseitige Logik einfacher umgesetzt werden kann, soll die Web-App als \textit{Single-Page-Application} (kurz \ac{SPA}) umgesetzt werden. Hierbei soll konsequent auf aktuelle Web-Techniken aus HTML5, CSS3 und Javascript gesetzt werden. \\
Da eine mobile Nutzung im Vordergrund steht, soll die SPA sich \gls{responsiv} verhalten. Dadurch wird eine Nutzung auf kleinen Displays unterstützt. Dies erhöht die Vergleichbarkeit der Applikationen, da beide Varianten problemlos auf dem gleichen Gerät getestet werden können.
\subsubsection*{Native App}
\label{ssec:aufgabenstellung:nat-app}
Die native App soll für Android entwickelt. Android wurde als Plattform ausgewählt, um die Vorteile des offenen Systems nutzen zu können. So ist es beispielsweise möglich die entwickelte App auf einem Testsystem zu installieren, ohne - wie bei Apples iOS nötig - einen Entwickler-Account anlegen zu müssen.\\ 
Zudem ist es bei einer iOS-App notwendig, das Aufspielen einer Testapplikation über ein spezielles Entwickler-Tool in XCode durchzuführen. Diese Hürde fällt bei einer Android-App weg. Des Weiteren ist das Android-Betriebssystem weiter verbreitet (siehe \citep{Statista-SmartphoneVerteilung}). Dadurch kann bei einer möglichen späteren Weiterentwicklung eine größere Akzeptanz der App erzielt werden.
\subsection{Weiterentwicklung eines Clients}
\label{ssec:umsetzung-client-entwicklung}
Auf Grundlage der Evaluation soll eine der beiden Applikationen ausgewählt und anschließend zu einem rudimentären Messe-Prototypen weiterentwickelt werden. Diese soll eine komplette \gls{UserStory} implementieren. Als Beispiel soll eine Fitness-App dienen. Hierbei kann ein Nutzer Trainingsdaten verwalten. 
\section{Meilensteinplan}
\label{sec:meilenstein-plan}
Aus dem nun vorliegenden Soll-Konzept kann ein Meilenstein-Plan erzeugt werden. Diese zeigt einen groben Projektablauf auf und spiegelt parallel ablaufende Entwicklungen wieder. Das gesamte Projekt kann in zwei Meilensteine unterteilt werden, welche nachfolgend genauer beschrieben werden.
\begin{table}[!h]
\centering
\caption{Meilensteinplan}
\label{tbl:meilensteinplan}
\begin{tabular}{|c|l|}
\hline
{\bf Meilenstein} & {\bf Titel}                                                      \\ \hline
1                 & Umsetzung der Clients als \textit{Proof-of-Concept}-Prototypen \\ \hline
2                 & Umsetzung einer mobilen Anwendung als Messeprototyp              \\ \hline
\end{tabular}
\end{table}

\subsection{Umsetzung der Clients als \textit{Proof-of-Concept}-Prototypen}
In diesem Meilenstein werden Erkenntnisse zur Implementierung einer verlässlichen mobilen Anwendung gesammelt. \\
Hierbei müssen folgende Teilschritte durchgeführt werden:
\begin{enumerate}
\item Erwerb grundsätzlicher Kenntnisse eines Caches und dessen Implementierung
\item Implementierung des Servers 
\item Erstellung einer Web-App
\item Erstellung einer nativen App
\item Evaluierung der Erkenntnisse
\end{enumerate}
Da beide Clients während der Implementierung den Server benötigen, müssen die Teilschritte bis einschließlich Schritt 2 nacheinander abgearbeitet werden. Die Umsetzung der beiden Clients kann anschließend parallel erfolgen. Dieser Meilenstein endet mit der Gegenüberstellung der gewonnen Erkenntnisse und der Auswahl einer Technik für Meilenstein 2.
\subsection{Umsetzung einer mobilen Anwendung als Messeprototyp}
In diesem Meilenstein wird die in Meilenstein 1 gewählte Technik benutzt, um einen Messeprototyp zu entwickeln. Hierbei sollen alle Funktionalitäten implementiert werden, um einen Anwendungsfall vollständig durchzuführen. Als Anwendungsfall soll ein Nutzer ein neues Trainingsdatum anlegen. Dabei soll es irrelevant sein, ob eine Verbindung zum Server besteht, oder nicht. Dieser Anwendungsfall wird als grafisch aufbereitete User-Story im Umfeld des fertig implementierten Messeprototyps vorgestellt.